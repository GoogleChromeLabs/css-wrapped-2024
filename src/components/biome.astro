---
import slugify from "./../util/slugify";
const { title, description, features } = Astro.props;
---

<section id={slugify(title)} data-details-target={`details-${slugify(title)}`}>
  <header>
    <h2>{title}</h2>
    <p>{description}</p>
  </header>

  <div class="features-list">
    {
      features.map((Feature) => (
        <div
          style={`view-timeline-name: --vtl--${slugify(title)}--${slugify(Feature.title)}`}
        >
          <Feature.default />
        </div>
      ))
    }
  </div>
</section>

<style>
  @layer components.biome {
    section {
      display: grid;
      gap: var(--size-3);
      grid-column: main-features;

      > header {
        display: grid;
        place-items: start;
        gap: var(--size-2);
        margin-block-end: var(--size-8);
        padding-block: var(--size-10);
        background: var(--surface-1);
        border-image: var(--_biome-image) repeat fill 0 //0 100vw;;

        > h2 {
          line-height: 1;
          font-family: "Jersey10", sans-serif;
          font-weight: normal;
          font-size: clamp(1.25rem, 5vw, 5rem);

          &,
          & + p {
            color: lime;
            background: #000d;
          }
        }
      }

      > .features-list {
        grid-column: 1;

        &:not(:first-of-type) {
          margin-block-start: var(--size-11);
        }
      }
    }

    .features-list {
      display: grid;
      gap: var(--size-10);
    }
  }
</style>
